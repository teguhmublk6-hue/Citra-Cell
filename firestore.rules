/**
 * @fileoverview Firestore Security Rules for BrimoUI application.
 *
 * Core Philosophy:
 * This ruleset provides completely open access to all data.
 *
 * Data Structure:
 * - /kasAccounts/{kasAccountId}: Stores cash account information.
 * - /kasAccounts/{kasAccountId}/transactions/{transactionId}: Stores transaction history for each cash account.
 *
 * Key Security Decisions:
 * - All reads and writes are allowed for all users, including unauthenticated users.
 *
 * WARNING: This configuration is for rapid prototyping and is NOT secure for production use.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Provides completely open access to the /kasAccounts collection. Any user can create, read, update, and delete any document.
     * @path /kasAccounts/{kasAccountId}
     * @allow (get, list) Any user can read any kasAccount.
     * @allow (create, update, delete) Any user can modify or create any kasAccount.
     * @deny None - all requests are allowed.
     * @principle Open access for prototyping.
     */
    match /kasAccounts/{kasAccountId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Provides completely open access to the /transactions subcollection. Any user can create, read, update, and delete any transaction.
     * @path /kasAccounts/{kasAccountId}/transactions/{transactionId}
     * @allow (get, list) Any user can read any transaction.
     * @allow (create, update, delete) Any user can modify or create any transaction.
     * @deny None - all requests are allowed.
     * @principle Open access for prototyping.
     */
    match /kasAccounts/{kasAccountId}/transactions/{transactionId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }
  }
}