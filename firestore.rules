/**
 * @fileoverview Firestore Security Rules for BrimoUI application.
 *
 * Core Philosophy:
 * This ruleset provides completely open access to all data in the BrimoUI Firestore database. 
 * All read and write operations are allowed without authentication or authorization checks. 
 * This configuration is for demonstration or prototyping purposes only.
 *
 * Data Structure:
 * The database stores user preferences, cash accounts (KasAccounts), and transactions, all nested under `/users/{userId}`.
 *  - /users/{userId}/preferences/{preferenceId}
 *  - /users/{userId}/kasAccounts/{kasAccountId}
 *  - /users/{userId}/kasAccounts/{kasAccountId}/transactions/{transactionId}
 *
 * Key Security Decisions:
 * - No authentication is required, all users have full read and write access.
 * - Data validation is disabled for prototyping purposes.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows anyone to read and write user preferences.
     * @path /users/{userId}/preferences/{preferenceId}
     * @allow (get, list, create, update, delete) - Any user can perform any operation on any preference document.
     * @deny None
     * @principle Open access for prototyping.
     */
    match /users/{userId}/preferences/{preferenceId} {
      allow get, list, create, update, delete: if true;
    }

    /**
     * @description Allows anyone to read and write cash accounts.
     * @path /users/{userId}/kasAccounts/{kasAccountId}
     * @allow (get, list, create, update, delete) - Any user can perform any operation on any kasAccount document.
     * @deny None
     * @principle Open access for prototyping.
     */
    match /users/{userId}/kasAccounts/{kasAccountId} {
      allow get, list, create, update, delete: if true;
    }

    /**
     * @description Allows anyone to read and write transactions.
     * @path /users/{userId}/kasAccounts/{kasAccountId}/transactions/{transactionId}
     * @allow (get, list, create, update, delete) - Any user can perform any operation on any transaction document.
     * @deny None
     * @principle Open access for prototyping.
     */
    match /users/{userId}/kasAccounts/{kasAccountId}/transactions/{transactionId} {
      allow get, list, create, update, delete: if true;
    }
  }
}