/**
 * @file Firestore Security Rules for BrimoUI Application
 *
 * @core_philosophy This ruleset allows completely public read and write access to all data.
 *   This is INSECURE and is only for initial prototyping.
 *   This should be replaced with rules that enforce proper authorization (e.g., user-based access control).
 * @data_structure Data is stored in two top-level collections: `/kasAccounts/{kasAccountId}` and `/kasAccounts/{kasAccountId}/transactions/{transactionId}`.
 * @key_security_decisions All read and write operations are permitted for all users, including unauthenticated users.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    /**
     * @description Allows all users to read and write KasAccounts.
     * @path /kasAccounts/{kasAccountId}
     * @allow (get, list, create, update, delete) - Any user can perform any operation.
     * @deny (none) - No requests are denied.
     * @principle Public read and write access (INSECURE).
     */
    match /kasAccounts/{kasAccountId} {
      allow read, write: if true;
    }

    /**
     * @description Allows all users to read and write transactions.
     * @path /kasAccounts/{kasAccountId}/transactions/{transactionId}
     * @allow (get, list, create, update, delete) - Any user can perform any operation.
     * @deny (none) - No requests are denied.
     * @principle Public read and write access (INSECURE).
     */
    match /kasAccounts/{kasAccountId}/transactions/{transactionId} {
      allow read, write: if true;
    }
  }
}